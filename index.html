<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KunstLilia – Portfolio van Lilia Guseva Dosti</title>
  <meta name="description" content="Portfolio van Lilia Guseva Dosti. Bekijk schilderijen en sieraden, en neem contact op voor inspiratie en kennismaking." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0f1430; --bg-2:#1a1f45; --card:#161b3a;
      --accent-2:#BBADFF; --text:#ffffff; --muted:#dfe4ffcc;
      --line:#272e63; --radius:20px; --shadow:0 12px 32px rgba(0,0,0,.35);
      --chip-bg:rgba(255,255,255,.06); --chip-br:rgba(255,255,255,.18);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
    img{max-width:100%;display:block}
    a{color:var(--accent-2);text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:20px}

    /* HEADER */
    header{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,rgba(8,10,26,.95),rgba(8,10,26,.65));backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
    nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:14px 0}
    .brand{display:flex;align-items:center;gap:12px;font-weight:800;letter-spacing:.2px}
    .mark{width:28px;height:28px;border-radius:12px;background:
      radial-gradient(120% 90% at 20% 25%, #fff, rgba(255,255,255,.3) 30%, transparent 60%),
      radial-gradient(90% 70% at 80% 80%, #DAB6FC, transparent 60%),
      radial-gradient(90% 60% at 30% 80%, #8E94F2, transparent 60%),
      linear-gradient(135deg, #BBADFF, #9FA0FF);
      box-shadow:0 0 20px rgba(159,160,255,.55), inset 0 0 18px rgba(255,255,255,.35);
    }
    .navlinks{display:flex;gap:10px;flex-wrap:wrap}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;font-weight:600;background:var(--chip-bg);border:1px solid var(--chip-br);color:var(--text);transition:transform .15s,background .2s,border-color .2s}
    .pill:hover{transform:translateY(-1px);background:rgba(255,255,255,.12);border-color:#9fa0ff66}
    .hamb{display:none;align-items:center;justify-content:center;width:48px;height:48px;border-radius:14px;background:var(--chip-bg);border:1px solid var(--chip-br)}
    .hamb span,.hamb span::before,.hamb span::after{content:"";display:block;width:22px;height:2px;background:#dfe2ff;border-radius:2px;position:relative}
    .hamb span::before{position:absolute;top:-6px}
    .hamb span::after{position:absolute;top:6px}
    .nav-pop{position:absolute;right:20px;top:68px;display:none;flex-direction:column;gap:10px;background:rgba(8,10,26,.96);border:1px solid var(--line);border-radius:18px;padding:14px;box-shadow:var(--shadow)}
    .nav-pop.show{display:flex}
    @media (max-width:860px){ .navlinks{display:none} .hamb{display:flex} }

    /* FULL-BLEED HERO (100vw) */
    .hero-bleed { width:100vw; margin-left:calc(50% - 50vw); }
    .hero-wrap{position:relative;margin-top:16px}
    .hero{position:relative;overflow:hidden;border-radius:28px;border:1px solid var(--line);min-height:520px;background:#0b0f26;box-shadow:var(--shadow)}
    .hero-bg{
      position:absolute;inset:0;background-image:url('/asset1/homepic.png');background-size:cover;background-position:50% 50%;
      transform:scale(1.05);
      animation:zoomPan 30s ease-in-out infinite alternate, driftPos 18s ease-in-out infinite alternate;
      filter:url(#liquid-waves);
      will-change:transform, background-position, filter;
    }
    @keyframes zoomPan{
      from{transform:scale(1.05)}
      to{transform:scale(1.10)}
    }
    @keyframes driftPos{
      from{background-position:48% 49%}
      to  {background-position:52% 51%}
    }

    .hero-inner{position:relative;z-index:1;height:100%;display:grid;grid-template-rows:auto 1fr auto;gap:22px;padding:26px}
    .stroke-strong{color:#fff;-webkit-text-stroke:2px rgba(0,0,0,.55);paint-order:stroke fill;text-shadow:0 0 2px rgba(0,0,0,.55),0 2px 6px rgba(0,0,0,.45),0 0 10px rgba(0,0,0,.25)}
    .stroke-body{color:#fff;-webkit-text-stroke:1px rgba(0,0,0,.45);paint-order:stroke fill;text-shadow:0 1px 3px rgba(0,0,0,.5),0 0 2px rgba(0,0,0,.45)}
    .hero-title{margin:0;line-height:1.03;font-size:clamp(38px,6.2vw,64px)}
    .badges{display:flex;gap:10px;flex-wrap:wrap}
    .badge{background:#10142a;border:1px solid var(--line);border-radius:999px;padding:8px 12px;color:var(--muted);font-size:14px}

    h2.section{font-size:32px;margin:28px 0 12px;letter-spacing:.3px}
    .muted{color:var(--muted)}
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}

    /* Scrollers + tiles */
    .scroller{border:1px solid var(--line);border-radius:16px;background:var(--bg-2);padding:14px;max-height:560px;overflow:auto;box-shadow:var(--shadow)}
    .tiles{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px}
    .tile{background:#0e1330;border:1px solid var(--line);border-radius:14px;overflow:hidden;transition:transform .12s,border-color .12s;cursor:pointer}
    .tile:hover{transform:translateY(-2px);border-color:#3a459a}
    .tile img{width:100%;height:300px;object-fit:cover}
    .scroller::-webkit-scrollbar{height:12px;width:12px}
    .scroller::-webkit-scrollbar-thumb{background:#3b4185;border-radius:999px;border:3px solid transparent;background-clip:content-box}
    .scroller::-webkit-scrollbar-track{background:transparent}

    /* Category dropdown */
    .cat-filter { position: relative; display: inline-block; margin: 8px 0 16px; }
    .cat-btn {
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 14px; border-radius:12px; font-weight:600;
      background:#7f4e67; color:#fff; border:1px solid #ad7c98; cursor:pointer;
    }
    .cat-menu {
      position:absolute; top:46px; left:0; min-width:220px; z-index:20;
      background:#151938; border:1px solid var(--line); border-radius:12px; padding:8px;
      display:none; box-shadow:var(--shadow);
    }
    .cat-menu.show { display:block; }
    .cat-item {
      display:block; padding:10px 12px; border-radius:10px; color:#eaf0ff; cursor:pointer;
    }
    .cat-item:hover { background:#222861; }

    /* Lightbox */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center;padding:20px;z-index:100}
    .lightbox.active{display:flex}
    .lightbox img{max-width:95vw;max-height:90vh;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.5)}
    .lb-close{position:absolute;top:16px;right:16px;background:#ffffff22;border:1px solid #ffffff55;border-radius:10px;color:#fff;padding:10px 14px;cursor:pointer}

    footer{margin:48px 0 20px;color:var(--muted);font-size:14px;text-align:center}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <nav>
        <div class="brand">
          <span class="mark" aria-hidden="true"></span>
          <span>KunstLilia</span>
        </div>

        <div class="navlinks">
          <a class="pill" href="#schilderijen">Schilder collectie</a>
          <a class="pill" href="#sieraden">Sieraden</a>
          <a class="pill" href="#over">Over mij</a>
          <a class="pill" href="#contact">Contact</a>
        </div>

        <button class="hamb" id="hamb" aria-label="Menu"><span></span></button>
        <div class="nav-pop" id="navPop">
          <a class="pill" href="#schilderijen">Schilder collectie</a>
          <a class="pill" href="#sieraden">Sieraden</a>
          <a class="pill" href="#over">Over mij</a>
          <a class="pill" href="#contact">Contact</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- FULL-WIDTH HERO buiten container voor 100vw -->
  <section class="hero-bleed hero-wrap" aria-label="Intro">
    <div class="hero">
      <div class="hero-bg" aria-hidden="true"></div>
      <div class="hero-inner">
        <div>
          <h1 class="hero-title stroke-strong">
            schilderijen &<br>sieraden<br>
            Lilia Guseva Dosti
          </h1>
        </div>
        <div></div>
        <div>
          <p class="stroke-body" style="font-size:clamp(16px,2.6vw,20px);max-width:1100px;margin:0 0 10px;">
            Welkom op mijn portfolio. Een persoonlijke selectie — zonder commercieel doel — ter inspiratie en kennismaking.
          </p>
          <div class="badges">
            <span class="badge">✓ Origineel werk</span>
            <span class="badge">✓ Persoonlijke stijl</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <main class="container">
    <!-- Schilderijen -->
    <section id="schilderijen" style="margin-top:30px">
      <h2 class="section">Schilderijen</h2>
      <p class="muted">Filter op type (automatisch gedetecteerd uit bestandsnamen; indien onbekend → Abstract). </p>

      <!-- Categorie dropdown -->
      <div class="cat-filter" id="catFilter">
        <button class="cat-btn" id="catBtn">Alles ▾</button>
        <div class="cat-menu" id="catMenu" role="menu" aria-label="Categorie">
          <span class="cat-item" data-cat="Alles">Alles</span>
          <span class="cat-item" data-cat="Mensen">Mensen</span>
          <span class="cat-item" data-cat="Dieren">Dieren</span>
          <span class="cat-item" data-cat="Planten">Planten</span>
          <span class="cat-item" data-cat="Landschap">Landschap</span>
          <span class="cat-item" data-cat="Abstract">Abstract</span>
          <span class="cat-item" data-cat="Relief">Relief</span>
        </div>
      </div>

      <div class="scroller"><div class="tiles" id="tiles-paintings"></div></div>
    </section>

    <!-- Sieraden -->
    <section id="sieraden" style="margin-top:34px">
      <h2 class="section">Sieraden</h2>
      <p class="muted">Een kleine verzameling sieraden. Er komen later meer stukken bij.</p>
      <div class="scroller"><div class="tiles" id="tiles-jewels"></div></div>
    </section>

    <!-- Over mij -->
    <section id="over" style="margin-top:34px">
      <h2 class="section">Over mij</h2>
      <div class="card" style="display:grid;grid-template-columns:120px 1fr;gap:16px;align-items:center">
        <img id="aboutPhoto" src="/Portfolio/IMG_0107.jpg" alt="Lilia Guseva Dosti" style="width:120px;height:120px;object-fit:cover;border-radius:50%;border:2px solid var(--line)">
        <p>Mijn naam is Lilia Guseva Dosti. Vanuit passie voor vorm, kleur en expressie creëer ik werk dat gevoel vastlegt. Dit portfolio is bedoeld om mijn artistieke ontwikkeling en stijl te delen — los van verkoop of opdrachten.</p>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" style="margin-top:34px">
      <h2 class="section">Contact</h2>
      <div class="card">
        <p class="muted">Voor vragen, samenwerkingen of gedachten over kunst: stuur gerust een bericht.</p>
        <p><a class="pill" href="mailto:info@kunstlilia.nl?subject=Bericht via portfolio">Contact opnemen</a></p>
      </div>
    </section>

    <footer>© <span id="year"></span> KunstLilia · Lilia Guseva Dosti — Alle rechten voorbehouden</footer>
  </main>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
    <button class="lb-close" id="lbClose" aria-label="Sluiten">✕ Sluiten</button>
    <img id="lightboxImg" alt="Vergrote weergave"/>
  </div>

  <!-- SVG filter voor subtiele golf-displacement -->
  <svg width="0" height="0" style="position:absolute">
    <filter id="liquid-waves">
      <feTurbulence type="fractalNoise" baseFrequency="0.008 0.012" numOctaves="2" seed="8">
        <animate attributeName="baseFrequency"
                 values="0.008 0.012;0.011 0.009;0.008 0.012"
                 dur="20s" repeatCount="indefinite"/>
      </feTurbulence>
      <feDisplacementMap in="SourceGraphic" scale="8" xChannelSelector="R" yChannelSelector="G">
        <animate attributeName="scale" values="6;10;6" dur="18s" repeatCount="indefinite"/>
      </feDisplacementMap>
    </filter>
  </svg>

  <script>
    // jaar
    document.getElementById('year').textContent = new Date().getFullYear();

    // hamburger
    const hamb = document.getElementById('hamb');
    const navPop = document.getElementById('navPop');
    hamb.addEventListener('click', () => navPop.classList.toggle('show'));
    document.addEventListener('click', (e) => {
      if (!navPop.contains(e.target) && !hamb.contains(e.target)) navPop.classList.remove('show');
    });

    // manifest laden
    async function fetchManifest() {
      try {
        const r = await fetch('/images.json', {cache:'no-store'});
        if (r.ok) return await r.json();
      } catch {}
      // Fallback: GitHub API
      const GH = 'https://api.github.com/repos/Kunstlilia/kunstlilia.github.io/contents/';
      const get = async (p) => {
        try {
          const r = await fetch(GH + p);
          if (!r.ok) return [];
          const data = await r.json();
          return (Array.isArray(data)?data:[])
            .filter(f => f.type==='file' && /\.(jpe?g|png|webp)$/i.test(f.name))
            .map(f => f.path);
        } catch { return []; }
      };
      const a1 = await get('asset1'), a2 = await get('asset2'), s = await get('sieraden');
      return { paintings:[...a1, ...a2], jewels:s };
    }

    // ==== Lightbox ====
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lightboxImg');
    const lbClose = document.getElementById('lbClose');
    function openLightbox(src){ lbImg.src = src; lb.classList.add('active'); }
    function closeLightbox(){ lb.classList.remove('active'); lbImg.src=''; }
    lbClose.addEventListener('click', closeLightbox);
    lb.addEventListener('click', e => { if(e.target === lb) closeLightbox(); });
    document.addEventListener('keydown', e => { if(e.key === 'Escape') closeLightbox(); });

    // ==== Tagging (auto + manual overrides) ====
    const MANUAL_TAGS = {
      // voorbeeld:
      // "asset2/portret_anna.jpg": ["Mensen"],
      // "asset1/no_name.png":     ["Landschap"],
    };
    const KEYWORDS = {
      Mensen:   ["mens","people","portrait","portret","face","vrouw","man","meisje","jongen","girl","boy","lady","woman","man_","self","model"],
      Dieren:   ["dier","animal","tijger","tiger","kat","cat","hond","dog","bird","vogel","paard","horse","lion","leeuw","fish","vis"],
      Planten:  ["plant","bloem","flower","rose","roos","tulp","tulip","leaf","blad","tree","boom","lotus","orchid","orchidee"],
      Landschap:["land","sea","zee","sky","lucht","mountain","berg","river","rivier","forest","bos","meer","lake","strand","beach","duin","desert","woestijn"],
      Relief:   ["relief","texture","emboss","structuur","thick","paste","impasto"]
    };
    function inferCategoriesFromName(filename){
      const base = filename.toLowerCase();
      const hits = new Set();
      for (const [k,v] of Object.entries(MANUAL_TAGS)) {
        if (filename.toLowerCase().endsWith(k.toLowerCase())) v.forEach(t => hits.add(t));
      }
      for (const [cat, list] of Object.entries(KEYWORDS)) {
        if (list.some(w => base.includes(w))) hits.add(cat);
      }
      if (hits.size === 0) hits.add("Abstract");
      return Array.from(hits);
    }

    function makeTile(src){
      const d = document.createElement('div'); d.className='tile';
      const img = new Image(); img.loading='lazy'; img.decoding='async';
      const cleanSrc = '/' + src.replace(/^\/+/, '');
      img.src = cleanSrc; img.alt = src.split('/').pop();

      const tags = MANUAL_TAGS[src] || inferCategoriesFromName(src);
      d.dataset.tags = tags.join(',');  // "Dieren,Planten"
      d.appendChild(img);
      d.addEventListener('click', () => openLightbox(img.src));
      return d;
    }
    function renderList(rootId, paths){
      const root = document.getElementById(rootId); root.innerHTML='';
      paths.forEach(p => root.appendChild(makeTile(p)));
    }

    // ==== Category dropdown ====
    const catBtn  = document.getElementById('catBtn');
    const catMenu = document.getElementById('catMenu');
    catBtn.addEventListener('click', () => catMenu.classList.toggle('show'));
    document.addEventListener('click', (e) => {
      if (!catMenu.contains(e.target) && !catBtn.contains(e.target)) catMenu.classList.remove('show');
    });
    function applyCategoryFilter(category){
      catBtn.textContent = category + ' ▾';
      const tiles = document.querySelectorAll('#tiles-paintings .tile');
      tiles.forEach(t => {
        if (category === 'Alles') t.style.display = '';
        else {
          const tags = (t.dataset.tags || '').split(',').map(s=>s.trim());
          t.style.display = tags.includes(category) ? '' : 'none';
        }
      });
    }
    catMenu.addEventListener('click', (e)=>{
      const item = e.target.closest('.cat-item');
      if(!item) return;
      applyCategoryFilter(item.dataset.cat);
      catMenu.classList.remove('show');
    });

    (async () => {
      const m = await fetchManifest();

      // schilderijen
      const allPaints = (m.paintings || []).sort((a,b)=>a.localeCompare(b,undefined,{numeric:true}));
      renderList('tiles-paintings', allPaints);
      applyCategoryFilter('Alles');

      // sieraden
      renderList('tiles-jewels', (m.jewels || []).sort((a,b)=>a.localeCompare(b,undefined,{numeric:true})));

      // "Over mij" fallback als foto ontbreekt
      const about = document.getElementById('aboutPhoto');
      about.addEventListener('error', ()=>{ about.style.display='none'; });
    })();
  </script>
</body>
</html>
